<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Projects - Admin</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <header>
        <nav class="admin-nav">
            <div class="logo">Admin Panel</div>
            <ul>
                <li><a href="/admin/dashboard">Dashboard</a></li>
                <li><a href="/admin/logout">Logout</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h2 class="section-title">Manage Projects</h2>

        <!-- Add Project Form -->
        <div class="card">
            <h3>Add New Project</h3>
            <form action="/admin/projects" method="POST">
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" name="title" required>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea name="description" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>Tech Stack (comma separated)</label>
                    <input type="text" name="techStack" placeholder="e.g. React, Node.js, MongoDB">
                </div>
                <div class="form-group">
                    <label>GitHub Link</label>
                    <input type="text" name="githubLink">
                </div>
                <div class="form-group">
                    <label>Live Demo Link</label>
                    <input type="text" name="liveDemo">
                </div>
                <div class="form-group">
                    <label>Image URL</label>
                    <input type="text" name="image" placeholder="https://...">
                </div>
                <button type="submit" class="btn">Add Project</button>
            </form>
        </div>

        <!-- Projects List -->
        <div class="grid">
            <% projects.forEach(project => { %>
                <div class="card">
                    <h4><%= project.title %></h4>
                    <p><%= project.description %></p>
                    <div style="margin: 10px 0;">
                        <% project.techStack.forEach(t => { %>
                            <span style="background: #eee; padding: 2px 5px; font-size: 0.8rem;"><%= t %></span>
                        <% }) %>
                    </div>
                    <form action="/admin/projects/<%= project._id %>?_method=DELETE" method="POST" onsubmit="return confirm('Delete this project?');">
                        <button type="submit" class="btn btn-danger" style="width: 100%;">Delete</button>
                    </form>
                </div>
            <% }) %>
        </div>
    </main>
</body>
</html>
